<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rayo</title>
  <link rel="stylesheet" href="../design/cart.css">
  <link rel="icon" type="image/x-icon" href="../media resourses/ChatGPT Image Aug 28, 2025, 05_00_42 AM.png">
  <script src="https://kit.fontawesome.com/67d0c5075e.js" crossorigin="anonymous"></script>
</head>
<body>

  <header>
    <h1 class="logo">Rayo</h1>
    <nav>
      <a href="../index.html">Home</a>
      <!-- <a href="../pages/cart.html">Cart</a> -->
      <!-- <a href="../pages/product.html">Products</a> -->
      <a href="../pages/checkout.html">Checkout</a>
    </nav>
  </header>
 
<h2>Your Cart</h2>
<div id="cart-items"></div>
<p>Total: $<span id="total">0</span></p>
<button onclick="goToCheckout()">Go to Checkout</button>
<button onclick="clearCart()">Clear Cart</button>

<script>
document.addEventListener("DOMContentLoaded", () => {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  let container = document.getElementById("cart-items");
  let total = 0;

  if (cart.length === 0) {
    container.innerHTML = "<p>Your cart is empty.</p>";
  } else {
    cart.forEach(item => {
      total += item.price * item.quantity;
      let div = document.createElement("div");
      div.style.height = "350px"
      div.style.border = "0.3em solid black";
      div.innerHTML = `
        <img src="${item.image}" style="width:;height:;">
        <br>
        <p>${item.title} - $${item.price} x ${item.quantity}</p>
        <button onclick="removeFromCart(${item.id})">‚ùå</button>
      `;
      container.appendChild(div);
    });
  }

  document.getElementById("total").innerText = total;

  localStorage.setItem("cart", JSON.stringify(cart))
});

function removeFromCart(id) {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  cart = cart.filter(item => item.id !== id);
  localStorage.setItem("cart", JSON.stringify(cart));
  location.reload();
}

function goToCheckout() {
  window.location.href = "checkout.html";
}

function clearCart() {
  localStorage.removeItem("cart");
  location.reload();
}
cartcount = document.querySelectorAll(".cart-count");
cartcount.forEach(count => count.textContent = 0);
</script>


</body>
</html>
